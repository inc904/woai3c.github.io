(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58f2c84c"],{"0a6b":function(t,e,n){},1276:function(t,e,n){"use strict";var o=n("d784"),r=n("44e7"),a=n("825a"),i=n("1d80"),l=n("4840"),c=n("8aa5"),s=n("50c4"),u=n("14c3"),h=n("9263"),f=n("d039"),p=[].push,d=Math.min,m=4294967295,v=!f((function(){return!RegExp(m,"y")}));o("split",2,(function(t,e,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=String(i(this)),a=void 0===n?m:n>>>0;if(0===a)return[];if(void 0===t)return[o];if(!r(t))return e.call(o,t,a);var l,c,s,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,v=new RegExp(t.source,f+"g");while(l=h.call(v,o)){if(c=v.lastIndex,c>d&&(u.push(o.slice(d,l.index)),l.length>1&&l.index<o.length&&p.apply(u,l.slice(1)),s=l[0].length,d=c,u.length>=a))break;v.lastIndex===l.index&&v.lastIndex++}return d===o.length?!s&&v.test("")||u.push(""):u.push(o.slice(d)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=i(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r,n):o.call(String(r),e,n)},function(t,r){var i=n(o,t,this,r,o!==e);if(i.done)return i.value;var h=a(t),f=String(this),p=l(h,RegExp),y=h.unicode,g=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),b=new p(v?h:"^(?:"+h.source+")",g),x=void 0===r?m:r>>>0;if(0===x)return[];if(0===f.length)return null===u(b,f)?[f]:[];var w=0,S=0,C=[];while(S<f.length){b.lastIndex=v?S:0;var E,O=u(b,v?f:f.slice(S));if(null===O||(E=d(s(b.lastIndex+(v?0:S)),f.length))===w)S=c(f,S,y);else{if(C.push(f.slice(w,S)),C.length===x)return C;for(var k=1;k<=O.length-1;k++)if(C.push(O[k]),C.length===x)return C;S=w=E}}return C.push(f.slice(w)),C}]}),!v)},"14c3":function(t,e,n){var o=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"21bb":function(t,e,n){"use strict";n("2dad")},2532:function(t,e,n){"use strict";var o=n("23e7"),r=n("5a34"),a=n("1d80"),i=n("ab13");o({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(a(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,n){"use strict";var o=n("6eeb"),r=n("825a"),a=n("d039"),i=n("ad6d"),l="toString",c=RegExp.prototype,s=c[l],u=a((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),h=s.name!=l;(u||h)&&o(RegExp.prototype,l,(function(){var t=r(this),e=String(t.source),n=t.flags,o=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?i.call(t):n);return"/"+e+"/"+o}),{unsafe:!0})},"2dad":function(t,e,n){},"318d":function(t,e,n){},"3b48":function(t,e,n){},"3de4":function(t,e,n){},"431e":function(t,e,n){},"44e7":function(t,e,n){var o=n("861d"),r=n("c6b6"),a=n("b622"),i=a("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},"4de4":function(t,e,n){"use strict";var o=n("23e7"),r=n("b727").filter,a=n("1dde"),i=n("ae40"),l=a("filter"),c=i("filter");o({target:"Array",proto:!0,forced:!l||!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var o=n("0366"),r=n("7b0b"),a=n("9bdd"),i=n("e95a"),l=n("50c4"),c=n("8418"),s=n("35a1");t.exports=function(t){var e,n,u,h,f,p,d=r(t),m="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,g=void 0!==y,b=s(d),x=0;if(g&&(y=o(y,v>2?arguments[2]:void 0,2)),void 0==b||m==Array&&i(b))for(e=l(d.length),n=new m(e);e>x;x++)p=g?y(d[x],x):d[x],c(n,x,p);else for(h=b.call(d),f=h.next,n=new m;!(u=f.call(h)).done;x++)p=g?a(h,y,[u.value,x],!0):u.value,c(n,x,p);return n.length=x,n}},"55da":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var o=n("1d80"),r=n("5899"),a="["+r+"]",i=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),c=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(l,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5a34":function(t,e,n){var o=n("44e7");t.exports=function(t){if(o(t))throw TypeError("The method doesn't accept regular expressions");return t}},"6d8d":function(t,e,n){},7156:function(t,e,n){var o=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var a,i;return r&&"function"==typeof(a=e.constructor)&&a!==n&&o(i=a.prototype)&&i!==n.prototype&&r(t,i),t}},8258:function(t,e,n){"use strict";n("318d")},"87d8":function(t,e,n){"use strict";n("c628")},"8aa5":function(t,e,n){"use strict";var o=n("6547").charAt;t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},"8f00":function(t,e,n){"use strict";n("55da")},9062:function(t,e,n){"use strict";n("431e")},"912e":function(t,e,n){"use strict";n("a13c")},9263:function(t,e,n){"use strict";var o=n("ad6d"),r=n("9f7f"),a=RegExp.prototype.exec,i=String.prototype.replace,l=a,c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),s=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],h=c||u||s;h&&(l=function(t){var e,n,r,l,h=this,f=s&&h.sticky,p=o.call(h),d=h.source,m=0,v=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,m++),n=new RegExp("^(?:"+d+")",p)),u&&(n=new RegExp("^"+d+"$(?!\\s)",p)),c&&(e=h.lastIndex),r=a.call(f?n:h,v),f?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:c&&r&&(h.lastIndex=h.global?r.index+r[0].length:e),u&&r&&r.length>1&&i.call(r[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(r[l]=void 0)})),r}),t.exports=l},"96cf":function(t,e){!function(e){"use strict";var n,o=Object.prototype,r=o.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",s="object"===typeof t,u=e.regeneratorRuntime;if(u)s&&(t.exports=u);else{u=e.regeneratorRuntime=s?t.exports:{},u.wrap=x;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",m={},v={};v[i]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(M([])));g&&g!==o&&r.call(g,i)&&(v=g);var b=E.prototype=S.prototype=Object.create(v);C.prototype=b.constructor=E,E.constructor=C,E[c]=C.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(b),t},u.awrap=function(t){return{__await:t}},O(k.prototype),k.prototype[l]=function(){return this},u.AsyncIterator=k,u.async=function(t,e,n,o){var r=new k(x(t,e,n,o));return u.isGeneratorFunction(e)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},O(b),b[c]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},u.values=M,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(o,r){return l.type="throw",l.arg=t,e.next=o,r&&(e.method="next",e.arg=n),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:M(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=n),m}}}function x(t,e,n,o){var r=e&&e.prototype instanceof S?e:S,a=Object.create(r.prototype),i=new $(o||[]);return a._invoke=_(t,n,i),a}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(o){return{type:"throw",arg:o}}}function S(){}function C(){}function E(){}function O(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function k(t){function e(n,o,a,i){var l=w(t[n],t,o);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"===typeof s&&r.call(s,"__await")?Promise.resolve(s.__await).then((function(t){e("next",t,a,i)}),(function(t){e("throw",t,a,i)})):Promise.resolve(s).then((function(t){c.value=t,a(c)}),i)}i(l.arg)}var n;function o(t,o){function r(){return new Promise((function(n,r){e(t,o,n,r)}))}return n=n?n.then(r,r):r()}this._invoke=o}function _(t,e,n){var o=h;return function(r,a){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===r)throw a;return P()}n.method=r,n.arg=a;while(1){var i=n.delegate;if(i){var l=N(i,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=w(t,e,n);if("normal"===c.type){if(o=n.done?d:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=d,n.method="throw",n.arg=c.arg)}}}function N(t,e){var o=t.iterator[e.method];if(o===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,N(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=w(o,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function M(t){if(t){var e=t[i];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){while(++o<t.length)if(r.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},"99af":function(t,e,n){"use strict";var o=n("23e7"),r=n("d039"),a=n("e8b5"),i=n("861d"),l=n("7b0b"),c=n("50c4"),s=n("8418"),u=n("65f0"),h=n("1dde"),f=n("b622"),p=n("2d00"),d=f("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",y=p>=51||!r((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),g=h("concat"),b=function(t){if(!i(t))return!1;var e=t[d];return void 0!==e?!!e:a(t)},x=!y||!g;o({target:"Array",proto:!0,forced:x},{concat:function(t){var e,n,o,r,a,i=l(this),h=u(i,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(a=-1===e?i:arguments[e],b(a)){if(r=c(a.length),f+r>m)throw TypeError(v);for(n=0;n<r;n++,f++)n in a&&s(h,f,a[n])}else{if(f>=m)throw TypeError(v);s(h,f++,a)}return h.length=f,h}})},"9bdd":function(t,e,n){var o=n("825a"),r=n("2a62");t.exports=function(t,e,n,a){try{return a?e(o(n)[0],n[1]):e(n)}catch(i){throw r(t),i}}},"9f7f":function(t,e,n){"use strict";var o=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=o((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a13c:function(t,e,n){},a630:function(t,e,n){var o=n("23e7"),r=n("4df4"),a=n("1c7e"),i=!a((function(t){Array.from(t)}));o({target:"Array",stat:!0,forced:i},{from:r})},a9e3:function(t,e,n){"use strict";var o=n("83ab"),r=n("da84"),a=n("94ca"),i=n("6eeb"),l=n("5135"),c=n("c6b6"),s=n("7156"),u=n("c04e"),h=n("d039"),f=n("7c73"),p=n("241c").f,d=n("06cf").f,m=n("9bf2").f,v=n("58a8").trim,y="Number",g=r[y],b=g.prototype,x=c(f(b))==y,w=function(t){var e,n,o,r,a,i,l,c,s=u(t,!1);if("string"==typeof s&&s.length>2)if(s=v(s),e=s.charCodeAt(0),43===e||45===e){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+s}for(a=s.slice(2),i=a.length,l=0;l<i;l++)if(c=a.charCodeAt(l),c<48||c>r)return NaN;return parseInt(a,o)}return+s};if(a(y,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var S,C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(x?h((function(){b.valueOf.call(n)})):c(n)!=y)?s(new g(w(e)),n,C):w(e)},E=o?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),O=0;E.length>O;O++)l(g,S=E[O])&&!l(C,S)&&m(C,S,d(g,S));C.prototype=b,b.constructor=C,i(r,y,C)}},ab13:function(t,e,n){var o=n("b622"),r=o("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(o){}}return!1}},ac1f:function(t,e,n){"use strict";var o=n("23e7"),r=n("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var o=n("825a");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var o=n("83ab"),r=n("9bf2").f,a=Function.prototype,i=a.toString,l=/^\s*function ([^ (]*)/,c="name";o&&!(c in a)&&r(a,c,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(t){return""}}})},b2e4:function(t,e,n){t.exports=n.p+"img/title.ac55a42f.jpg"},b445:function(t,e,n){"use strict";n("bae4")},bae4:function(t,e,n){},bb51:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Toolbar"),n("main",[n("section",{staticClass:"left"},[n("ComponentList")],1),n("section",{staticClass:"center"},[n("div",{staticClass:"content",on:{drop:t.handleDrop,dragover:t.handleDragOver,click:t.deselectCurComponent}},[n("Editor")],1)]),n("section",{staticClass:"right"},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"属性",name:"attr"}},[t.curComponent?n("AttrList"):n("p",{staticClass:"placeholder"},[t._v("请选择组件")])],1),n("el-tab-pane",{attrs:{label:"动画",name:"animation"}},[t.curComponent?n("AnimationList"):n("p",{staticClass:"placeholder"},[t._v("请选择组件")])],1),n("el-tab-pane",{attrs:{label:"事件",name:"events"}},[t.curComponent?n("EventList"):n("p",{staticClass:"placeholder"},[t._v("请选择组件")])],1)],1)],1)])],1)},r=[],a=(n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor",class:{edit:t.isEdit},style:{width:t.canvasStyleData.width+"px",height:t.canvasStyleData.height+"px"},attrs:{id:"editor"},on:{contextmenu:t.handleContextMenu}},[t._l(t.componentData,(function(e,o){return n("Shape",{key:e.id,style:t.getShapeStyle(e.style),attrs:{defaultStyle:e.style,active:e===t.curComponent,element:e,index:o}},["v-text"!=e.component?n(e.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(e.style),attrs:{propValue:e.propValue}}):n(e.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(e.style),attrs:{propValue:e.propValue,element:e},on:{input:t.handleInput}})],1)})),n("ContextMenu"),n("MarkLine")],2)}),i=[];n("caad"),n("ac1f"),n("2532"),n("1276"),n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b");function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=n("2f62"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shape",class:{active:this.active},on:{click:t.selectCurComponent,mousedown:t.handleMouseDownOnShape}},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"el-icon-refresh-right",on:{mousedown:t.handleRotate}}),t._l(t.active?t.pointList:[],(function(e,o){return n("div",{key:o,staticClass:"shape-point",style:t.getPointStyle(e,o),on:{mousedown:function(n){return t.handleMouseDownOnPoint(e)}}})})),t._t("default")],2)},f=[];n("99af"),n("d81d"),n("fb6a"),n("a9e3");function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function d(t){if(Array.isArray(t))return p(t)}n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function m(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("b0c0"),n("25f0");function v(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(t){return d(t)||m(t)||v(t)||y()}var b=n("2b0e"),x=new b["default"];n("96cf");function w(t,e,n,o,r,a,i){try{var l=t[a](i),c=l.value}catch(s){return void n(s)}l.done?e(c):Promise.resolve(c).then(o,r)}function S(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){w(a,o,r,i,l,"next",t)}function l(t){w(a,o,r,i,l,"throw",t)}i(void 0)}))}}function C(t){return E.apply(this,arguments)}function E(){return E=S(regeneratorRuntime.mark((function t(e){var n,o,r,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:[],o=function(t){return new Promise((function(n){e.classList.add(t.value,"animated");var o=function o(){e.removeEventListener("animationend",o),e.removeEventListener("animationcancel",o),e.classList.remove(t.value,"animated"),n()};e.addEventListener("animationend",o),e.addEventListener("animationcancel",o)}))},r=0,a=n.length;case 3:if(!(r<a)){t.next=9;break}return t.next=6,o(n[r]);case 6:r++,t.next=3;break;case 9:case"end":return t.stop()}}),t)}))),E.apply(this,arguments)}function O(t){return t*Math.PI/180}function k(t,e,n){return{x:(t.x-e.x)*Math.cos(O(n))-(t.y-e.y)*Math.sin(O(n))+e.x,y:(t.x-e.x)*Math.sin(O(n))+(t.y-e.y)*Math.cos(O(n))+e.y}}function _(t,e,n){var o;switch(n){case"t":o={x:t.left+t.width/2,y:t.top};break;case"b":o={x:t.left+t.width/2,y:t.top+t.height};break;case"l":o={x:t.left,y:t.top+t.height/2};break;case"r":o={x:t.left+t.width,y:t.top+t.height/2};break;case"lt":o={x:t.left,y:t.top};break;case"rt":o={x:t.left+t.width,y:t.top};break;case"lb":o={x:t.left,y:t.top+t.height};break;default:o={x:t.left+t.width,y:t.top+t.height};break}return k(o,e,t.rotate)}function N(t,e){return{x:t.x+(e.x-t.x)/2,y:t.y+(e.y-t.y)/2}}function L(t){return Math.abs(Math.sin(O(t)))}function I(t){return Math.abs(Math.cos(O(t)))}var $={lt:M,t:P,rt:R,r:D,rb:T,b:A,lb:U,l:j};function M(t,e,n){var o=n.symmetricPoint,r=N(e,o),a=k(e,r,-t.rotate),i=k(o,r,-t.rotate),l=i.x-a.x,c=i.y-a.y;l>0&&c>0&&(t.width=Math.round(l),t.height=Math.round(c),t.left=Math.round(a.x),t.top=Math.round(a.y))}function P(t,e,n){var o=n.symmetricPoint,r=n.clickPoint,a=k(e,r,-t.rotate),i=k({x:r.x,y:a.y},r,t.rotate),l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2));if(l>0){var c={x:i.x-(i.x-o.x)/2,y:i.y+(o.y-i.y)/2};t.height=Math.round(l),t.top=Math.round(c.y-l/2),t.left=Math.round(c.x-t.width/2)}}function D(t,e,n){var o=n.symmetricPoint,r=n.clickPoint,a=k(e,r,-t.rotate),i=k({x:a.x,y:r.y},r,t.rotate),l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2));if(l>0){var c={x:i.x-(i.x-o.x)/2,y:i.y+(o.y-i.y)/2};t.width=Math.round(l),t.top=Math.round(c.y-t.height/2),t.left=Math.round(c.x-l/2)}}function A(t,e,n){var o=n.symmetricPoint,r=n.clickPoint,a=k(e,r,-t.rotate),i=k({x:r.x,y:a.y},r,t.rotate),l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2));if(l>0){var c={x:i.x-(i.x-o.x)/2,y:i.y+(o.y-i.y)/2};t.height=Math.round(l),t.top=Math.round(c.y-l/2),t.left=Math.round(c.x-t.width/2)}}function j(t,e,n){var o=n.symmetricPoint,r=n.clickPoint,a=k(e,r,-t.rotate),i=k({x:a.x,y:r.y},r,t.rotate),l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2));if(l>0){var c={x:i.x-(i.x-o.x)/2,y:i.y+(o.y-i.y)/2};t.width=Math.round(l),t.top=Math.round(c.y-t.height/2),t.left=Math.round(c.x-l/2)}}function R(t,e,n){var o=n.symmetricPoint,r=N(e,o),a=k(e,r,-t.rotate),i=k(o,r,-t.rotate),l=a.x-i.x,c=i.y-a.y;l>0&&c>0&&(t.width=Math.round(l),t.height=Math.round(c),t.left=Math.round(i.x),t.top=Math.round(a.y))}function T(t,e,n){var o=n.symmetricPoint,r=N(e,o),a=k(o,r,-t.rotate),i=k(e,r,-t.rotate),l=i.x-a.x,c=i.y-a.y;l>0&&c>0&&(t.width=Math.round(l),t.height=Math.round(c),t.left=Math.round(a.x),t.top=Math.round(a.y))}function U(t,e,n){var o=n.symmetricPoint,r=N(e,o),a=k(o,r,-t.rotate),i=k(e,r,-t.rotate),l=a.x-i.x,c=i.y-a.y;l>0&&c>0&&(t.width=Math.round(l),t.height=Math.round(c),t.left=Math.round(i.x),t.top=Math.round(a.y))}function V(t,e,n,o){$[t](e,n,o)}var Y={props:{active:{type:Boolean,default:!1},element:{require:!0,type:Object},defaultStyle:{require:!0,type:Object},index:{require:!0,type:[Number,String]}},data:function(){return{pointList:["lt","t","rt","r","lb","b","rb","l"],directions:["nw","n","ne","e","sw","s","se","w"],cursors:[]}},computed:Object(u["b"])(["curComponent"]),mounted:function(){var t=this;x.$on("runAnimation",(function(){t.element==t.curComponent&&(console.log(t.curComponent),C(t.$el,t.curComponent.animations))}))},methods:{handleRotate:function(t){var e=this;t.stopPropagation();var n=s({},this.defaultStyle),o=t.clientY,r=t.clientX,a=n.rotate,i=this.$el.getBoundingClientRect(),l=i.left+i.width/2,c=i.top+i.height/2,u=Math.atan2(o-c,r-l)/(Math.PI/180),h=!1,f=function(t){h=!0;var o=t.clientX,r=t.clientY,i=Math.atan2(r-c,o-l)/(Math.PI/180);n.rotate=a+i-u,e.$store.commit("setShapeStyle",n)},p=function t(){h&&e.$store.commit("recordSnapshot"),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",t),e.cursors=e.getCursor()};document.addEventListener("mousemove",f),document.addEventListener("mouseup",p)},getPointStyle:function(t,e){var n=this.defaultStyle,o=n.width,r=n.height,a=/t/.test(t),i=/b/.test(t),l=/l/.test(t),c=/r/.test(t),s=0,u=0;2===t.length?(s=l?0:o,u=a?0:r):((a||i)&&(s=o/2,u=a?0:r),(l||c)&&(s=l?0:o,u=Math.floor(r/2)));var h={marginLeft:"-4px",marginTop:"-4px",left:"".concat(s,"px"),top:"".concat(u,"px"),cursor:this.cursors[e]};return h},getCursor:function(){var t=Math.floor((this.curComponent.style.rotate+360)%360/45)%8,e=this.directions,n=[].concat(g(e.slice(t)),g(e.slice(0,t)));return n.map((function(t){return t+"-resize"}))},handleMouseDownOnShape:function(t){var e=this;"v-text"!=this.element.component&&t.preventDefault(),t.stopPropagation(),this.$store.commit("setCurComponent",{component:this.element,index:this.index}),this.cursors=this.getCursor();var n=s({},this.defaultStyle),o=t.clientY,r=t.clientX,a=Number(n.top),i=Number(n.left),l=!1,c=function(t){l=!0;var c=t.clientX,s=t.clientY;n.top=s-o+a,n.left=c-r+i,e.$store.commit("setShapeStyle",n),e.$nextTick((function(){x.$emit("move",s-o>0,c-r>0)}))},u=function t(){l&&e.$store.commit("recordSnapshot"),x.$emit("unmove"),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)},selectCurComponent:function(t){t.stopPropagation(),t.preventDefault(),this.$store.commit("hideContexeMenu")},handleMouseDownOnPoint:function(t){var e=this,n=window.event;n.stopPropagation(),n.preventDefault();var o=s({},this.defaultStyle),r={x:o.left+o.width/2,y:o.top+o.height/2},a=_(o,r,t),i={x:r.x-(a.x-r.x),y:r.y-(a.y-r.y)},l=document.querySelector("#editor").getBoundingClientRect(),c=!1,u=function(n){c=!0;var s={x:n.clientX-l.left,y:n.clientY-l.top};V(t,o,s,{center:r,clickPoint:a,symmetricPoint:i}),e.$store.commit("setShapeStyle",o)},h=function t(){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",t),c&&e.$store.commit("recordSnapshot")};document.addEventListener("mousemove",u),document.addEventListener("mouseup",h)}}},B=Y,F=(n("87d8"),n("2877")),z=Object(F["a"])(B,h,f,!1,null,"040a2a8a",null),X=z.exports;function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=["fontSize","width","height","top","left"],o={};return Object.keys(t).forEach((function(r){e.includes(r)||("rotate"!=r?(o[r]=t[r],n.includes(r)&&(o[r]+="px")):o.transform=r+"("+t[r]+"deg)")})),o}var q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"menuShow"}],staticClass:"contextmenu",style:{top:t.menuTop+"px",left:t.menuLeft+"px"}},[n("ul",[n("li",{directives:[{name:"show",rawName:"v-show",value:t.curComponent,expression:"curComponent"}],on:{click:t.copy}},[t._v("复制")]),n("li",{on:{click:t.paste}},[t._v("粘贴")]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.curComponent,expression:"curComponent"}],on:{click:t.cut}},[t._v("剪切")]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.curComponent,expression:"curComponent"}],on:{click:t.deleteComponent}},[t._v("删除")]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.curComponent,expression:"curComponent"}],on:{click:t.topComponent}},[t._v("置顶")]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.curComponent,expression:"curComponent"}],on:{click:t.bottomComponent}},[t._v("置底")]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.curComponent,expression:"curComponent"}],on:{click:t.upComponent}},[t._v("上移")]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.curComponent,expression:"curComponent"}],on:{click:t.downComponent}},[t._v("下移")])])])},W=[],H={data:function(){return{copyData:null}},computed:Object(u["b"])(["menuTop","menuLeft","menuShow","curComponent"]),methods:{cut:function(){this.$store.commit("cut")},copy:function(){this.$store.commit("copy")},paste:function(){this.$store.commit("paste",!0)},deleteComponent:function(){this.$store.commit("deleteComponent"),this.$store.commit("recordSnapshot")},upComponent:function(){this.$store.commit("upComponent"),this.$store.commit("recordSnapshot")},downComponent:function(){this.$store.commit("downComponent"),this.$store.commit("recordSnapshot")},topComponent:function(){this.$store.commit("topComponent"),this.$store.commit("recordSnapshot")},bottomComponent:function(){this.$store.commit("bottomComponent"),this.$store.commit("recordSnapshot")}}},J=H,K=(n("e61a"),Object(F["a"])(J,q,W,!1,null,"4877e310",null)),Q=K.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mark-line"},t._l(t.lines,(function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.lineStatus[e]||!1,expression:"lineStatus[line] || false"}],key:e,ref:e,refInFor:!0,staticClass:"line",class:e.includes("x")?"xline":"yline"})})),0)},tt=[],et={data:function(){return{lines:["xt","xc","xb","yl","yc","yr"],diff:3,lineStatus:{xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}}},computed:Object(u["b"])(["curComponent","componentData"]),mounted:function(){var t=this;x.$on("move",(function(e,n){t.showLine(e,n)})),x.$on("unmove",(function(){t.hideLine()}))},methods:{hideLine:function(){var t=this;Object.keys(this.lineStatus).forEach((function(e){t.lineStatus[e]=!1}))},translateComponentStyle:function(t){if(t=s({},t),0!=t.rotate){var e=t.width*I(t.rotate)+t.height*L(t.rotate),n=(t.width-e)/2;t.left+=n,t.right=t.left+e;var o=t.height*I(t.rotate)+t.width*L(t.rotate),r=(o-t.height)/2;t.top-=r,t.bottom=t.top+o,t.width=e,t.height=o}else t.bottom=t.top+t.height,t.right=t.left+t.width;return t},showLine:function(t,e){var n=this,o=this.$refs,r=this.componentData,a=this.translateComponentStyle(this.curComponent.style),i=a.width/2,l=a.height/2;this.hideLine(),r.forEach((function(r){if(r!=n.curComponent){var c=n.translateComponentStyle(r.style),s=c.top,u=c.left,h=c.bottom,f=c.right,p=c.width/2,d=c.height/2,m={top:[{isNearly:n.isNearly(a.top,s),lineNode:o.xt[0],line:"xt",dragShift:s,lineShift:s},{isNearly:n.isNearly(a.bottom,s),lineNode:o.xt[0],line:"xt",dragShift:s-a.height,lineShift:s},{isNearly:n.isNearly(a.top+l,s+d),lineNode:o.xc[0],line:"xc",dragShift:s+d-l,lineShift:s+d},{isNearly:n.isNearly(a.top,h),lineNode:o.xb[0],line:"xb",dragShift:h,lineShift:h},{isNearly:n.isNearly(a.bottom,h),lineNode:o.xb[0],line:"xb",dragShift:h-a.height,lineShift:h}],left:[{isNearly:n.isNearly(a.left,u),lineNode:o.yl[0],line:"yl",dragShift:u,lineShift:u},{isNearly:n.isNearly(a.right,u),lineNode:o.yl[0],line:"yl",dragShift:u-a.width,lineShift:u},{isNearly:n.isNearly(a.left+i,u+p),lineNode:o.yc[0],line:"yc",dragShift:u+p-i,lineShift:u+p},{isNearly:n.isNearly(a.left,f),lineNode:o.yr[0],line:"yr",dragShift:f,lineShift:f},{isNearly:n.isNearly(a.right,f),lineNode:o.yr[0],line:"yr",dragShift:f-a.width,lineShift:f}]},v=[],y=n.curComponent.style.rotate;Object.keys(m).forEach((function(t){m[t].forEach((function(e){e.isNearly&&(n.$store.commit("setShapePosStyle",{key:t,value:0!=y?n.translatecurComponentShift(t,e,a):e.dragShift}),e.lineNode.style[t]="".concat(e.lineShift,"px"),v.push(e.line))}))})),v.length&&n.chooseTheTureLine(v,t,e)}}))},translatecurComponentShift:function(t,e,n){var o=this.curComponent.style,r=o.width,a=o.height;return"top"==t?Math.round(e.dragShift-(a-n.height)/2):Math.round(e.dragShift-(r-n.width)/2)},chooseTheTureLine:function(t,e,n){n?t.includes("yr")?this.lineStatus.yr=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yl")&&(this.lineStatus.yl=!0):t.includes("yl")?this.lineStatus.yl=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yr")&&(this.lineStatus.yr=!0),e?t.includes("xb")?this.lineStatus.xb=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xt")&&(this.lineStatus.xt=!0):t.includes("xt")?this.lineStatus.xt=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xb")&&(this.lineStatus.xb=!0)},isNearly:function(t,e){return Math.abs(t-e)<=this.diff}}},nt=et,ot=(n("b445"),Object(F["a"])(nt,Z,tt,!1,null,"6622b0a0",null)),rt=ot.exports,at={props:{isEdit:{type:Boolean,default:!0}},components:{Shape:X,ContextMenu:Q,MarkLine:rt},computed:Object(u["b"])(["componentData","curComponent","canvasStyleData"]),methods:{handleContextMenu:function(t){t.stopPropagation(),t.preventDefault();var e=t.target,n=t.offsetY,o=t.offsetX;while(!e.className.includes("editor"))o+=e.offsetLeft,n+=e.offsetTop,e=e.parentNode;this.$store.commit("showContexeMenu",{top:n,left:o})},getShapeStyle:function(t){var e=s({},t);return e.width&&(e.width+="px"),e.height&&(e.height+="px"),e.top&&(e.top+="px"),e.left&&(e.left+="px"),e.rotate&&(e.transform="rotate("+e.rotate+"deg)"),e},getComponentStyle:function(t){return G(t,["top","left","width","height","rotate"])},handleInput:function(t,e){t.propValue=e,this.$store.commit("setShapeStyle",{height:this.getTextareaHeight(t,e)})},getTextareaHeight:function(t,e){var n=t.style,o=n.lineHeight,r=n.fontSize,a=n.height;""===o&&(o=1.5);var i=e.split("\n").length*o*r;return a>i?a:i}}},it=at,lt=(n("8f00"),Object(F["a"])(it,a,i,!1,null,"ecafed06",null)),ct=lt.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-list",on:{dragstart:t.handleDragStart}},t._l(t.componentList,(function(e,o){return n("div",{key:o,staticClass:"list",attrs:{draggable:"","data-index":o}},[n("i",{class:e.icon}),n("span",[t._v(t._s(e.label))])])})),0)},ut=[],ht={rotate:"",opacity:1},ft=[{component:"v-text",label:"文字",propValue:"文字",icon:"el-icon-edit",animations:[],events:{},style:{width:200,height:33,fontSize:14,fontWeight:500,lineHeight:"",letterSpacing:0,textAlign:"",color:""}},{component:"v-button",label:"按钮",propValue:"按钮",icon:"el-icon-thumb",animations:[],events:{},style:{width:100,height:34,borderWidth:"",borderColor:"",borderRadius:"",fontSize:14,fontWeight:500,lineHeight:"",letterSpacing:0,textAlign:"",color:"",backgroundColor:""}},{component:"Picture",label:"图片",icon:"el-icon-picture",propValue:n("b2e4"),animations:[],events:{},style:{width:300,height:200,borderRadius:""}}];ft.forEach((function(t){t.style=s(s({},t.style),ht)}));var pt=ft,dt={data:function(){return{componentList:pt}},methods:{handleDragStart:function(t){t.dataTransfer.setData("index",t.target.dataset.index)}}},mt=dt,vt=(n("c28b"),Object(F["a"])(mt,st,ut,!1,null,"dc55c838",null)),yt=vt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"attr-list"},[n("el-form",[t._l(t.styleKeys,(function(e,o){return n("el-form-item",{key:o,attrs:{label:t.map[e]}},["borderColor"==e||"color"==e||"backgroundColor"==e?n("el-color-picker",{model:{value:t.curComponent.style[e],callback:function(n){t.$set(t.curComponent.style,e,n)},expression:"curComponent.style[key]"}}):"textAlign"==e?n("el-select",{model:{value:t.curComponent.style[e],callback:function(n){t.$set(t.curComponent.style,e,n)},expression:"curComponent.style[key]"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):n("el-input",{attrs:{type:"number"},model:{value:t.curComponent.style[e],callback:function(n){t.$set(t.curComponent.style,e,n)},expression:"curComponent.style[key]"}})],1)})),t.curComponent&&t.curComponent.propValue&&!t.excludes.includes(t.curComponent.component)?n("el-form-item",{attrs:{label:"内容"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.curComponent.propValue,callback:function(e){t.$set(t.curComponent,"propValue",e)},expression:"curComponent.propValue"}})],1):t._e()],2)],1)},bt=[],xt={data:function(){return{excludes:["Picture"],options:[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],map:{left:"x 坐标",top:"y 坐标",height:"高",width:"宽",color:"颜色",backgroundColor:"背景色",borderWidth:"边框宽度",borderColor:"边框颜色",borderRadius:"边框半径",fontSize:"字体大小",fontWeight:"字体粗细",lineHeight:"行高",letterSpacing:"字间距",textAlign:"对齐方式",opacity:"透明度",rotate:"旋转角度"}}},computed:{styleKeys:function(){return this.$store.state.curComponent?Object.keys(this.$store.state.curComponent.style):[]},curComponent:function(){return this.$store.state.curComponent}}},wt=xt,St=(n("e244"),Object(F["a"])(wt,gt,bt,!1,null,"7f5d2a6b",null)),Ct=St.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"animation-list"},[n("div",{staticClass:"div-animation"},[n("el-button",{on:{click:function(e){t.isShowAnimation=!0}}},[t._v("添加动画")]),n("el-button",{on:{click:t.previewAnimate}},[t._v("预览动画")]),n("div",t._l(t.curComponent.animations,(function(e,o){return n("el-tag",{key:o,attrs:{closable:""},on:{close:function(e){return t.removeAnimation(o)}}},[t._v(" "+t._s(e.label)+" ")])})),1)],1),n("Modal",{model:{value:t.isShowAnimation,callback:function(e){t.isShowAnimation=e},expression:"isShowAnimation"}},[n("el-tabs",{model:{value:t.animationActiveName,callback:function(e){t.animationActiveName=e},expression:"animationActiveName"}},t._l(t.animationClassData,(function(e){return n("el-tab-pane",{key:e.label,attrs:{label:e.label,name:e.label}},[n("el-scrollbar",{staticClass:"animate-container"},t._l(e.children,(function(e,o){return n("div",{key:o,staticClass:"animate",on:{mouseover:function(n){t.hoverPreviewAnimate=e.value},click:function(n){return t.addAnimation(e)}}},[n("div",{class:[t.hoverPreviewAnimate===e.value&&e.value+" animated"]},[t._v(" "+t._s(e.label)+" ")])])})),0)],1)})),1)],1)],1)},Ot=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"modal-bg",on:{click:t.hide}},[n("div",{staticClass:"fadeInLeft animated modal",on:{click:t.stopPropagation}},[t._t("default")],2)]):t._e()},_t=[],Nt={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},methods:{hide:function(){this.$emit("change")},stopPropagation:function(t){t.stopPropagation()}}},Lt=Nt,It=(n("912e"),Object(F["a"])(Lt,kt,_t,!1,null,"d422d568",null)),$t=It.exports,Mt=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedInRight"},{label:"光速从左进入",value:"lightSpeedInLeft"},{label:"光速从右退出",value:"lightSpeedOutRight"},{label:"光速从左退出",value:"lightSpeedOutLeft"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}],Pt={components:{Modal:$t},data:function(){return{isShowAnimation:!1,hoverPreviewAnimate:"",animationActiveName:"进入",animationClassData:Mt,showAnimatePanel:!1}},computed:Object(u["b"])(["curComponent"]),methods:{addAnimation:function(t){this.$store.commit("addAnimation",t),this.isShowAnimation=!1},previewAnimate:function(){x.$emit("runAnimation")},removeAnimation:function(t){this.$store.commit("removeAnimation",t)}}},Dt=Pt,At=(n("e285"),Object(F["a"])(Dt,Et,Ot,!1,null,null,null)),jt=At.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-list"},[n("div",{staticClass:"div-events"},[n("el-button",{on:{click:function(e){t.isShowEvent=!0}}},[t._v("添加事件")]),n("div",t._l(Object.keys(t.curComponent.events),(function(e){return n("el-tag",{key:e,attrs:{closable:""},on:{close:function(n){return t.removeEvent(e)}}},[t._v(" "+t._s(e)+" ")])})),1)],1),n("Modal",{model:{value:t.isShowEvent,callback:function(e){t.isShowEvent=e},expression:"isShowEvent"}},[n("el-tabs",{model:{value:t.eventActiveName,callback:function(e){t.eventActiveName=e},expression:"eventActiveName"}},t._l(t.eventList,(function(e){return n("el-tab-pane",{key:e.key,staticStyle:{padding:"0 20px"},attrs:{label:e.label,name:e.key}},["redirect"==e.key?n("el-input",{attrs:{type:"textarea",placeholder:"请输入完整的 URL"},model:{value:e.param,callback:function(n){t.$set(e,"param",n)},expression:"item.param"}}):t._e(),"alert"==e.key?n("el-input",{attrs:{type:"textarea",placeholder:"请输入要 alert 的内容"},model:{value:e.param,callback:function(n){t.$set(e,"param",n)},expression:"item.param"}}):t._e(),n("el-button",{staticStyle:{"margin-top":"20px"},on:{click:function(n){return t.addEvent(e.key,e.param)}}},[t._v("确定")])],1)})),1)],1)],1)},Tt=[],Ut={redirect:function(t){t&&(window.location.href=t)},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t&&alert(t)}))},Vt={methods:Ut},Yt=[{key:"redirect",label:"跳转事件",event:Ut.redirect,param:""},{key:"alert",label:"alert 事件",event:Ut.alert,param:""}],Bt={components:{Modal:$t},data:function(){return{isShowEvent:!1,eventURL:"",eventActiveName:"redirect",eventList:Yt}},computed:Object(u["b"])(["curComponent"]),methods:{addEvent:function(t,e){this.isShowEvent=!1,this.$store.commit("addEvent",{event:t,param:e})},removeEvent:function(t){this.$store.commit("removeEvent",t)}}},Ft=Bt,zt=(n("c265"),Object(F["a"])(Ft,Rt,Tt,!1,null,"a02bc99a",null)),Xt=zt.exports,Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar"},[n("el-button",{on:{click:t.undo}},[t._v("撤消")]),n("el-button",{on:{click:t.redo}},[t._v("重做")]),n("label",{staticClass:"insert",attrs:{for:"input"}},[t._v("插入图片")]),n("input",{attrs:{type:"file",id:"input",hidden:""},on:{change:t.handleFileChange}}),n("el-button",{staticStyle:{"margin-left":"10px"},on:{click:t.preview}},[t._v("预览")]),n("el-button",{on:{click:t.save}},[t._v("保存")]),n("el-button",{on:{click:t.clearCanvas}},[t._v("清空画布")]),n("div",{staticClass:"canvas-config"},[n("span",[t._v("画布大小")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.canvasStyleData.width,expression:"canvasStyleData.width"}],domProps:{value:t.canvasStyleData.width},on:{input:function(e){e.target.composing||t.$set(t.canvasStyleData,"width",e.target.value)}}}),n("span",[t._v("*")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.canvasStyleData.height,expression:"canvasStyleData.height"}],domProps:{value:t.canvasStyleData.height},on:{input:function(e){e.target.composing||t.$set(t.canvasStyleData,"height",e.target.value)}}})]),n("Preview",{on:{change:t.handlePreviewChange},model:{value:t.isShowPreview,callback:function(e){t.isShowPreview=e},expression:"isShowPreview"}})],1)},qt=[],Wt=n("ac24"),Ht=n("eae4"),Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"bg"},[n("el-button",{staticClass:"close",on:{click:t.close}},[t._v("关闭")]),n("div",{staticClass:"canvas-container"},[n("div",{staticClass:"canvas",style:{width:t.canvasStyleData.width+"px",height:t.canvasStyleData.height+"px"}},t._l(t.componentData,(function(t,e){return n("ComponentWrapper",{key:e,attrs:{config:t}})})),1)])],1):t._e()},Kt=[],Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.handleClick}},[n(t.config.component,{tag:"component",staticClass:"conponent",style:t.getStyle(t.config.style),attrs:{propValue:t.config.propValue}})],1)},Zt=[],te={props:{config:{type:Object,require:!0}},mounted:function(){C(this.$el,this.config.animations)},mixins:[Vt],methods:{getStyle:G,handleClick:function(){var t=this,e=this.config.events;Object.keys(e).forEach((function(n){t[n](e[n])}))}}},ee=te,ne=(n("9062"),Object(F["a"])(ee,Qt,Zt,!1,null,"a504ea30",null)),oe=ne.exports,re={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},components:{ComponentWrapper:oe},computed:Object(u["b"])(["componentData","canvasStyleData"]),methods:{getStyle:G,close:function(){this.$emit("change",!1)}}},ae=re,ie=(n("f4bf"),Object(F["a"])(ae,Jt,Kt,!1,null,"1a8d8480",null)),le=ie.exports,ce={components:{Preview:le},data:function(){return{isShowPreview:!1}},computed:Object(u["b"])(["componentData","canvasStyleData"]),methods:{undo:function(){this.$store.commit("undo")},redo:function(){this.$store.commit("redo")},handleFileChange:function(t){var e=this,n=t.target.files[0];if(n.type.includes("image")){var o=new FileReader;o.onload=function(t){var n=t.target.result,o=new Image;o.onload=function(){e.$store.commit("addComponent",{component:{id:Object(Wt["a"])(),component:"Picture",label:"图片",icon:"",propValue:n,animations:[],events:[],style:{top:0,left:0,width:o.width,height:o.height,rotate:""}}}),e.$store.commit("recordSnapshot")},o.src=n},o.readAsDataURL(n)}else Object(Ht["a"])("只能插入图片")},preview:function(){this.isShowPreview=!0,this.$store.commit("setEditMode","read")},save:function(){localStorage.setItem("canvasData",JSON.stringify(this.componentData)),localStorage.setItem("canvasStyle",JSON.stringify(this.canvasStyleData)),this.$message.success("保存成功")},clearCanvas:function(){this.$store.commit("setComponentData",[])},handlePreviewChange:function(){this.$store.commit("setEditMode","edit")}}},se=ce,ue=(n("8258"),Object(F["a"])(se,Gt,qt,!1,null,"6fe1eb07",null)),he=ue.exports,fe=n("fa7d"),pe={components:{Editor:ct,ComponentList:yt,AttrList:Ct,AnimationList:jt,EventList:Xt,Toolbar:he},data:function(){return{activeName:"attr",reSelectAnimateIndex:void 0}},computed:Object(u["b"])(["componentData","curComponent"]),created:function(){this.restore(),this.listenCopyAndPaste()},methods:{listenCopyAndPaste:function(){var t=this,e=17,n=86,o=67,r=88,a=!1;window.onkeydown=function(i){i.keyCode==e?a=!0:a&&i.keyCode==o?t.$store.commit("copy"):a&&i.keyCode==n?t.$store.commit("paste"):a&&i.keyCode==r&&t.$store.commit("cut")},window.onkeyup=function(t){t.keyCode==e&&(a=!1)}},restore:function(){localStorage.getItem("canvasData")&&this.$store.commit("setComponentData",this.resetID(JSON.parse(localStorage.getItem("canvasData")))),localStorage.getItem("canvasStyle")&&this.$store.commit("setCanvasStyle",JSON.parse(localStorage.getItem("canvasStyle")))},resetID:function(t){return t.forEach((function(t){t.id=Object(Wt["a"])()})),t},handleDrop:function(t){t.preventDefault(),t.stopPropagation();var e=Object(fe["a"])(pt[t.dataTransfer.getData("index")]);e.style.top=t.offsetY,e.style.left=t.offsetX,e.id=Object(Wt["a"])(),this.$store.commit("addComponent",{component:e}),this.$store.commit("recordSnapshot")},handleDragOver:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy"},deselectCurComponent:function(){this.$store.commit("setCurComponent",{component:null,index:null}),this.$store.commit("hideContexeMenu")}}},de=pe,me=(n("21bb"),Object(F["a"])(de,o,r,!1,null,null,null));e["default"]=me.exports},c265:function(t,e,n){"use strict";n("3b48")},c28b:function(t,e,n){"use strict";n("d8a3")},c628:function(t,e,n){},caad:function(t,e,n){"use strict";var o=n("23e7"),r=n("4d64").includes,a=n("44d2"),i=n("ae40"),l=i("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:!l},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},d784:function(t,e,n){"use strict";n("ac1f");var o=n("6eeb"),r=n("d039"),a=n("b622"),i=n("9263"),l=n("9112"),c=a("species"),s=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),h=a("replace"),f=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),p=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var d=a(t),m=!r((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),v=m&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!m||!v||"replace"===t&&(!s||!u||f)||"split"===t&&!p){var y=/./[d],g=n(d,""[t],(function(t,e,n,o,r){return e.exec===i?m&&!r?{done:!0,value:y.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=g[0],x=g[1];o(String.prototype,t,b),o(RegExp.prototype,d,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}h&&l(RegExp.prototype[d],"sham",!0)}},d81d:function(t,e,n){"use strict";var o=n("23e7"),r=n("b727").map,a=n("1dde"),i=n("ae40"),l=a("map"),c=i("map");o({target:"Array",proto:!0,forced:!l||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d8a3:function(t,e,n){},dbb4:function(t,e,n){var o=n("23e7"),r=n("83ab"),a=n("56ef"),i=n("fc6a"),l=n("06cf"),c=n("8418");o({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,n,o=i(t),r=l.f,s=a(o),u={},h=0;while(s.length>h)n=r(o,e=s[h++]),void 0!==n&&c(u,e,n);return u}})},e244:function(t,e,n){"use strict";n("3de4")},e285:function(t,e,n){"use strict";n("ee2e")},e439:function(t,e,n){var o=n("23e7"),r=n("d039"),a=n("fc6a"),i=n("06cf").f,l=n("83ab"),c=r((function(){i(1)})),s=!l||c;o({target:"Object",stat:!0,forced:s,sham:!l},{getOwnPropertyDescriptor:function(t,e){return i(a(t),e)}})},e61a:function(t,e,n){"use strict";n("0a6b")},ee2e:function(t,e,n){},f4bf:function(t,e,n){"use strict";n("6d8d")}}]);
//# sourceMappingURL=chunk-58f2c84c.72609981.js.map