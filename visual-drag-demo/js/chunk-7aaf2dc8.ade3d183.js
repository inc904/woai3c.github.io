(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aaf2dc8"],{"2c7d":function(t,e,n){"use strict";n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return M}));var o,a,i=n("5530"),c=n("ade3"),r=n("4360"),u=n("986e"),s=17,l=91,d=86,f=67,h=88,p=89,m=90,v=71,b=66,g=76,y=85,k=83,w=80,O=68,j=46,C=69,E=[66,67,68,69,71,76,80,83,85,86,88,89,90],S=(o={},Object(c["a"])(o,d,L),Object(c["a"])(o,p,A),Object(c["a"])(o,m,H),Object(c["a"])(o,k,I),Object(c["a"])(o,w,J),Object(c["a"])(o,C,P),o),x=Object(i["a"])(Object(i["a"])({},S),{},Object(c["a"])({},y,N)),D=Object(i["a"])(Object(i["a"])({},S),{},(a={},Object(c["a"])(a,f,T),Object(c["a"])(a,h,q),Object(c["a"])(a,v,F),Object(c["a"])(a,b,V),Object(c["a"])(a,O,K),Object(c["a"])(a,j,K),Object(c["a"])(a,g,R),a)),$=!1;function M(){window.onkeydown=function(t){if(r["a"].state.isInEdiotr){var e=r["a"].state.curComponent,n=t.keyCode;n===s||n===l?$=!0:n==j&&e?(r["a"].commit("deleteComponent"),r["a"].commit("recordSnapshot")):$&&(!D[n]||e&&e.isLock?x[n]&&e&&e.isLock&&(t.preventDefault(),x[n]()):(t.preventDefault(),D[n]()))}},window.onkeyup=function(t){t.keyCode!==s&&t.keyCode!==l||($=!1)},window.onmousedown=function(){r["a"].commit("setInEditorStatus",!1)}}function T(){r["a"].commit("copy")}function L(){r["a"].commit("paste"),r["a"].commit("recordSnapshot")}function q(){r["a"].commit("cut")}function A(){r["a"].commit("redo")}function H(){r["a"].commit("undo")}function F(){r["a"].state.areaData.components.length&&(r["a"].commit("compose"),r["a"].commit("recordSnapshot"))}function V(){var t=r["a"].state.curComponent;t&&!t.isLock&&"Group"==t.component&&(r["a"].commit("decompose"),r["a"].commit("recordSnapshot"))}function I(){u["a"].$emit("save")}function J(){u["a"].$emit("preview")}function K(){r["a"].state.curComponent&&(r["a"].commit("deleteComponent"),r["a"].commit("recordSnapshot"))}function P(){u["a"].$emit("clearCanvas")}function R(){r["a"].commit("lock")}function N(){r["a"].commit("unlock")}},"475a":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"edit"==t.editMode?n("div",{staticClass:"v-text",on:{keydown:t.handleKeydown,keyup:t.handleKeyup}},[n("div",{ref:"text",class:{canEdit:t.canEdit},style:{verticalAlign:t.element.style.verticalAlign},attrs:{contenteditable:t.canEdit,tabindex:t.element.id},domProps:{innerHTML:t._s(t.element.propValue)},on:{dblclick:t.setEdit,paste:t.clearStyle,mousedown:t.handleMousedown,blur:t.handleBlur,input:t.handleInput}})]):n("div",{staticClass:"v-text preview"},[n("div",{style:{verticalAlign:t.element.style.verticalAlign},domProps:{innerHTML:t._s(t.element.propValue)}})])},a=[],i=n("5530"),c=(n("caad"),n("2532"),n("2f62")),r=n("2c7d"),u=n("b775"),s=n("728d"),l={extends:s["a"],props:{propValue:{type:String,required:!0,default:""},request:{type:Object,default:function(){}},element:{type:Object,default:function(){}},linkage:{type:Object,default:function(){}}},data:function(){return{canEdit:!1,ctrlKey:17,isCtrlDown:!1,cancelRequest:null}},computed:Object(i["a"])({},Object(c["b"])(["editMode"])),created:function(){this.request&&(this.cancelRequest=Object(u["a"])(this.request,this.element,"propValue","string"))},beforeDestroy:function(){this.request&&this.cancelRequest()},methods:{handleInput:function(t){this.$emit("input",this.element,t.target.innerHTML)},handleKeydown:function(t){this.canEdit&&t.stopPropagation(),t.keyCode==this.ctrlKey?this.isCtrlDown=!0:(this.isCtrlDown&&this.canEdit&&r["a"].includes(t.keyCode)||46==t.keyCode)&&t.stopPropagation()},handleKeyup:function(t){this.canEdit&&t.stopPropagation(),t.keyCode==this.ctrlKey&&(this.isCtrlDown=!1)},handleMousedown:function(t){this.canEdit&&t.stopPropagation()},clearStyle:function(t){t.preventDefault();var e=t.clipboardData,n=e.getData("text/plain")||"";""!==n&&document.execCommand("insertText",!1,n),this.$emit("input",this.element,t.target.innerHTML)},handleBlur:function(t){var e=this;this.element.propValue=t.target.innerHTML||"&nbsp;";var n=t.target.innerHTML;""!==n?this.element.propValue=t.target.innerHTML:(this.element.propValue="",this.$nextTick((function(){e.element.propValue="&nbsp;"}))),this.canEdit=!1},setEdit:function(){this.element.isLock||(this.canEdit=!0,this.selectText(this.$refs.text))},selectText:function(t){var e=window.getSelection(),n=document.createRange();n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n)}}},d=l,f=(n("97f2"),n("2877")),h=Object(f["a"])(d,o,a,!1,null,"299b909a",null);e["default"]=h.exports},"728d":function(t,e,n){"use strict";n("d3b7"),n("159b"),n("4de4");var o,a,i=n("986e"),c={props:{linkage:{type:Object,default:function(){}},element:{type:Object,default:function(){}}},created:function(){var t,e;null!==(t=this.linkage)&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.length&&(i["a"].$on("v-click",this.onClick),i["a"].$on("v-hover",this.onHover))},mounted:function(){var t=this.linkage||{},e=t.data,n=t.duration;null!==e&&void 0!==e&&e.length&&(this.$el.style.transition="all ".concat(n,"s"))},beforeDestroy:function(){var t,e;null!==(t=this.linkage)&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.length&&(i["a"].$off("v-click",this.onClick),i["a"].$off("v-hover",this.onHover))},methods:{changeStyle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){e.style.forEach((function(e){e.key&&(t.element.style[e.key]=e.value)}))}))},onClick:function(t){var e=this.linkage.data.filter((function(e){return e.id===t&&"v-click"===e.event}));this.changeStyle(e)},onHover:function(t){var e=this.linkage.data.filter((function(e){return e.id===t&&"v-hover"===e.event}));this.changeStyle(e)}}},r=c,u=n("2877"),s=Object(u["a"])(r,o,a,!1,null,null,null);e["a"]=s.exports},8047:function(t,e,n){},"97f2":function(t,e,n){"use strict";n("8047")},"99af":function(t,e,n){"use strict";var o=n("23e7"),a=n("da84"),i=n("d039"),c=n("e8b5"),r=n("861d"),u=n("7b0b"),s=n("07fa"),l=n("8418"),d=n("65f0"),f=n("1dde"),h=n("b622"),p=n("2d00"),m=h("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",g=a.TypeError,y=p>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),k=f("concat"),w=function(t){if(!r(t))return!1;var e=t[m];return void 0!==e?!!e:c(t)},O=!y||!k;o({target:"Array",proto:!0,forced:O},{concat:function(t){var e,n,o,a,i,c=u(this),r=d(c,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(i=-1===e?c:arguments[e],w(i)){if(a=s(i),f+a>v)throw g(b);for(n=0;n<a;n++,f++)n in i&&l(r,f,i[n])}else{if(f>=v)throw g(b);l(r,f++,i)}return r.length=f,r}})},b775:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s}));n("d3b7"),n("e9c4"),n("159b"),n("99af"),n("2ca0"),n("ac1f"),n("00b4");var o=n("5c96"),a=/(https?):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/;function i(t){return new Promise((function(e,n){var o=new XMLHttpRequest;o.timeout=6e3;var a=u(t.url);"GET"===t.method&&(a+="".concat(c(t.data))),o.open(t.method,a),o.ontimeout=n,o.onerror=n,o.onload=function(t){e(t.target.response)},o.send(JSON.stringify(r(t.data,t.paramType)))}))}function c(t){var e="";return t.forEach((function(t){t[0]&&(e+="&".concat(t[0],"=").concat(t[1]))})),e?"?"+e:""}function r(t,e){if(!t)return"";if("array"===e)return t;var n={};return t.forEach((function(t){t[0]&&(n[t[0]]=t[1])})),n}function u(t){return t.startsWith("http")?t:"https://"+t}function s(t,e,n){var c,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",s=0,l=null===t||void 0===t?void 0:t.url;return(l&&!/^\d+$/.test(l)||a.test(u(l)))&&(t.series?c=setInterval((function(){0!=t.requestCount&&t.requestCount<=s?clearInterval(c):(s++,i(t,r).then((function(t){e[n]="object"===r||"array"===r?JSON.parse(t):t})).catch((function(t){return o["Message"].error((null===t||void 0===t?void 0:t.message)||t)})))}),t.time):i(t,r).then((function(t){e[n]="object"===r||"array"===r?JSON.parse(t):t})).catch((function(t){return o["Message"].error((null===t||void 0===t?void 0:t.message)||t)}))),function(){clearInterval(c)}}},e9c4:function(t,e,n){var o=n("23e7"),a=n("da84"),i=n("d066"),c=n("2ba4"),r=n("e330"),u=n("d039"),s=a.Array,l=i("JSON","stringify"),d=r(/./.exec),f=r("".charAt),h=r("".charCodeAt),p=r("".replace),m=r(1..toString),v=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,y=function(t,e,n){var o=f(n,e-1),a=f(n,e+1);return d(b,t)&&!d(g,a)||d(g,t)&&!d(b,o)?"\\u"+m(h(t,0),16):t},k=u((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&o({target:"JSON",stat:!0,forced:k},{stringify:function(t,e,n){for(var o=0,a=arguments.length,i=s(a);o<a;o++)i[o]=arguments[o];var r=c(l,null,i);return"string"==typeof r?p(r,v,y):r}})}}]);
//# sourceMappingURL=chunk-7aaf2dc8.ade3d183.js.map