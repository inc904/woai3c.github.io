(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5754c309"],{2532:function(t,e,n){"use strict";var o=n("23e7"),i=n("5a34"),c=n("1d80"),a=n("ab13");o({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(c(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"2c7d":function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return D}));var o,i,c=n("5530"),a=n("ade3"),r=n("4360"),s=n("986e"),u=17,d=86,l=67,p=88,m=89,f=90,h=71,b=66,v=76,y=85,w=83,g=80,k=68,C=46,O=69,j=[66,67,68,69,71,76,80,83,85,86,88,89,90],x=(o={},Object(a["a"])(o,d,L),Object(a["a"])(o,m,K),Object(a["a"])(o,f,A),Object(a["a"])(o,w,P),Object(a["a"])(o,g,R),Object(a["a"])(o,O,B),o),E=Object(c["a"])(Object(c["a"])({},x),{},Object(a["a"])({},y,J)),T=Object(c["a"])(Object(c["a"])({},x),{},(i={},Object(a["a"])(i,l,M),Object(a["a"])(i,p,$),Object(a["a"])(i,h,H),Object(a["a"])(i,b,V),Object(a["a"])(i,k,_),Object(a["a"])(i,C,_),Object(a["a"])(i,v,I),i)),S=!1;function D(){window.onkeydown=function(t){var e=r["a"].state.curComponent;t.keyCode==u?S=!0:t.keyCode==C&&e?(r["a"].commit("deleteComponent"),r["a"].commit("recordSnapshot")):S&&(e&&e.isLock?e&&e.isLock&&(t.preventDefault(),E[t.keyCode]&&E[t.keyCode]()):(t.preventDefault(),T[t.keyCode]&&T[t.keyCode]()))},window.onkeyup=function(t){t.keyCode==u&&(S=!1)}}function M(){r["a"].commit("copy")}function L(){r["a"].commit("paste"),r["a"].commit("recordSnapshot")}function $(){r["a"].commit("cut")}function K(){r["a"].commit("redo")}function A(){r["a"].commit("undo")}function H(){r["a"].state.areaData.components.length&&(r["a"].commit("compose"),r["a"].commit("recordSnapshot"))}function V(){var t=r["a"].state.curComponent;t&&!t.isLock&&"Group"==t.component&&(r["a"].commit("decompose"),r["a"].commit("recordSnapshot"))}function P(){s["a"].$emit("save")}function R(){s["a"].$emit("preview")}function _(){r["a"].state.curComponent&&(r["a"].commit("deleteComponent"),r["a"].commit("recordSnapshot"))}function B(){s["a"].$emit("clearCanvas")}function I(){r["a"].commit("lock")}function J(){r["a"].commit("unlock")}},"44e7":function(t,e,n){var o=n("861d"),i=n("c6b6"),c=n("b622"),a=c("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},"5a34":function(t,e,n){var o=n("44e7");t.exports=function(t){if(o(t))throw TypeError("The method doesn't accept regular expressions");return t}},8390:function(t,e,n){},ab13:function(t,e,n){var o=n("b622"),i=o("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(o){}}return!1}},caad:function(t,e,n){"use strict";var o=n("23e7"),i=n("4d64").includes,c=n("44d2");o({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),c("includes")},d02c:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"edit"==t.editMode?n("div",{staticClass:"v-text",on:{keydown:t.handleKeydown,keyup:t.handleKeyup}},[n("div",{ref:"text",class:{canEdit:t.canEdit},style:{verticalAlign:t.element.style.verticalAlign},attrs:{contenteditable:t.canEdit,tabindex:t.element.id},domProps:{innerHTML:t._s(t.element.propValue)},on:{dblclick:t.setEdit,paste:t.clearStyle,mousedown:t.handleMousedown,blur:t.handleBlur,input:t.handleInput}})]):n("div",{staticClass:"v-text preview"},[n("div",{style:{verticalAlign:t.element.style.verticalAlign},domProps:{innerHTML:t._s(t.element.propValue)}})])},i=[],c=n("5530"),a=(n("caad"),n("2532"),n("2f62")),r=n("2c7d"),s={props:{propValue:{type:String,require:!0},element:{type:Object}},data:function(){return{canEdit:!1,ctrlKey:17,isCtrlDown:!1}},computed:Object(c["a"])({},Object(a["b"])(["editMode"])),methods:{handleInput:function(t){this.$emit("input",this.element,t.target.innerHTML)},handleKeydown:function(t){t.keyCode==this.ctrlKey?this.isCtrlDown=!0:(this.isCtrlDown&&this.canEdit&&r["a"].includes(t.keyCode)||46==t.keyCode)&&t.stopPropagation()},handleKeyup:function(t){t.keyCode==this.ctrlKey&&(this.isCtrlDown=!1)},handleMousedown:function(t){this.canEdit&&t.stopPropagation()},clearStyle:function(t){t.preventDefault();var e=t.clipboardData,n=e.getData("text/plain")||"";""!==n&&document.execCommand("insertText",!1,n),this.$emit("input",this.element,t.target.innerHTML)},handleBlur:function(t){var e=this,n=t.target.innerHTML;""!==n?this.element.propValue=t.target.innerHTML:(this.element.propValue="",this.$nextTick((function(){e.element.propValue="&nbsp;"}))),this.canEdit=!1},setEdit:function(){this.canEdit=!0,this.selectText(this.$refs.text)},selectText:function(t){var e=window.getSelection(),n=document.createRange();n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n)}}},u=s,d=(n("f758"),n("2877")),l=Object(d["a"])(u,o,i,!1,null,"a3e92012",null);e["default"]=l.exports},f758:function(t,e,n){"use strict";n("8390")}}]);
//# sourceMappingURL=chunk-5754c309.4a2d98d5.js.map